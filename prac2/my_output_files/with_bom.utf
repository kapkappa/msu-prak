ӿРазработк0Рпрограм<Эконвертеро2Ркодирово: UCS-2ЊЗадани5Рпрактикум0 (3Рсемест@)
ЊПостановк0Рзадач8ЊТребуетсOРразработатLРдв5РпрограммKЭконвертер0.ЊПерваOРпрограмм0РчитаеBРи7Рстандартног>Рканал0Рввод0РтексBР2Ркодировк5 USC-2,РпереводиBРег>Р2РкодировкC UTF-8Р8РвыводиBРперекодированны9РтексBР2Рстандартны9Ркана;Рвывод0.ЊВтораOРпрограмм0РчитаеBРи7Рстандартног>Рканал0Рввод0РтексBР2Ркодировк5 UTF-8,РпереводиBРег>Р2РкодировкC USC-2Р8РвыводиBРперекодированны9РтексBР2Рстандартны9Ркана;Рвывод0.ЊОб5РпрограммKРдолжнKРкорректн>РобрабатыватLРмарке@Рпорядк0Рбайто2 (byte order mark† BOM)†Рсимво;РAРкодо< 0xFEFF†Р2Рначал5Рфайл0.РПерваOРпрограмм0Рдолжн0РчитатLРтексBР2 UCS-2,Р0РвтораOРпрограмм0†РгенерироватLРтексBР2 USC-2Р2Рсоответстви8РAРпрочитанны<Рмаркеро<.РРслуча5РотсутствиOРмаркер0РпринимаетсO LEЭпорядо: Шт>РестLРп>РумолчаниN BOMРпредставле=Рбайтам8 0xFF 0xFEР2Рначал5Рфайл0).ЊТакж5РпрограммKРдолжнKРобрабатыватLР8Рслуча8Рнекорректног>РпредставлениOРвходног>Ртекст0†Рнечетно5Рколичеств>Рбайто2Р2 USC-2,Рнекорректны5Рпоследовательност8Р2 UTF-8.РРэтиEРслучаяEРпрограммKРдолжнKРвыдаватLР2Рстандартны9Ркана;Рвывод0Рсообщени9Ро1РошибкаE (stderr)РдиагностикC,РвключающуNР2РсебOРзначени5Рнекорректног>Рсимвол0 Шпоследовательност8),Р0Ртакж5Рег>Рсмещени5Ротносительн>Рначал0Рфайл0.ЊЗамети<,Рчт>РпрограммKРн5РдолжнKРсам8РгенерироватLРмарке@ BOM†РтоBРдолже=РнаходитьсOР2Ртекст5 Ш2Рначал5Рфайл0).ЊРзаданиNРприложенKРтестовы5РфайлKР2РобеиEРкодировкаEРдлOРконтролOРправильност8Рзадани9,Р0Ртакж5РдлOРотладк8Рпрограм<.ЊМетодически5РуказаниOЊЗадани5Рнужн>РреализоватLРн0Рязык5РС8Р2Роперационно9Рсистем5 UNIX (LINUX).ЊДлOРхранениO UCSЭсимволо2РследуеBРиспользоватLРти?РданныE unsigned short,Р0РдлO UTF-8Рсимволо2 -  char.ЊТа:Рка:Рвыполнени5РзаданиOРпредполагаетсOР2Рначал5Рсеместр0,Рт>Рзнакомств>РAРдвоичны<Рвводо<Эвыводо<Рн5РпредусматриваетсO,Р0РдлOРввод0Эвывод0Ртекст0РиспользуютсOРтольк>Рбиблиотечны5Рфункци8 getchar()Р8 putchar().РПр8Ртестировани8Р8Ротладк5Рпрограм<РдолжнKРиспользоватьсOРданны5Ри7Рзаране5РподготовленныEРфайло2.РЭт8РфайлKРсвязываютсOРс>Рстандартным8Рканалам8Рввод0Эвывод0Рпуте<Рмеханизм0РперенаправлениOРввод0Эвывод0,Рпредоставляемог>Рлюбо9Роболочко9Р2РО! UNIX:
utf2usc <le.ucs >le.utfЊПриме@Рфункци8Рввод0 USCЭсимвол0Рпр8Рпрямо<Рпредставлени8 USC-2 Шт>РестL BEЭпорядк0Рбайто2):
unsigned short get_unicode_char_be ()
{
	int byte1 = getchar(), byte2 = getchar();
	return ((byte1&0xFF) << 8 | byte2&0xFF);
}ЊТестовы5РфайлKЊДлOРтестированиOР8Ротладк8РпредлагаетсOРиспользоватLРследующи9 Шминимальны9)Рнабо@Рфайло2.
UCS-2РфайлK
letext.usc†РтексBР2  UCS-2Р2Рперевернуто<Рпредставлени8 (LEЭпорядо:)РAРметко9 BOM
betext.usc†РтексBР2  UCS-2Р2Рпрямо<Рпредставлени8 (BEЭпорядо:)РAРметко9 BOM
letextbad1.usc†РтексBР2  UCS-2Р2Рперевернуто<Рпредставлени8 (LEЭпорядо:)Рбе7Рметк8 BOM
betextbad1.usc†РтексBР2  UCS-2Р2Рпрямо<Рпредставлени8 (BEЭпорядо:)Рбе7Рметк8 BOM
letextbad2.usc†РтексBР2  UCS-2Р2Рперевернуто<Рпредставлени8 (LEЭпорядо:)РAРметко9 BOM,Рн>РAРневерны<Рсимволо< Шоднобайтовы<)
betextbad2.usc†РтексBР2  UCS-2Р2Рпрямо<Рпредставлени8 (BEЭпорядо:)РAРметко9 BOM,Рн>РAРневерны<Рсимволо< Шоднобайтовы<)
leempty.usc†Рпусто9РтексBР2  UCS-2Р2Рперевернуто<Рпредставлени8 (LEЭпорядо:)РAРметко9 BOM
beempty.usc†Рпусто9РтексBР2  UCS-2Р2Рпрямо<Рпредставлени8 (BEЭпорядо:)РAРметко9 BOM
le30.usc†Родносимвольны9 Шко4=0x30†Рсимво; 0)РтексBР2  UCS-2Р2Рперевернуто<Рпредставлени8 (LEЭпорядо:)РAРметко9 BOM
be30.usc†Родносимвольны9 Шко4=0x30†Рсимво; 0)РтексBР2  UCS-2Р2Рпрямо<Рпредставлени8 (BEЭпорядо:)РAРметко9 BOM
le42f.usc†Родносимвольны9 Шко4=0x042F†Рсимво;Р/)РтексBР2  UCS-2Р2Рперевернуто<Рпредставлени8 (LEЭпорядо:)РAРметко9 BOM
be42f.usc†Родносимвольны9 Шко4=0x042F †Рсимво;Р/)РтексBР2  UCS-2Р2Рпрямо<Рпредставлени8 (BEЭпорядо:)РAРметко9 BOM
le263A.usc†Родносимвольны9 Шко4=0x263A†Рсимво;☠:)РтексBР2  UCS-2Р2Рперевернуто<Рпредставлени8 (LEЭпорядо:)РAРметко9 BOM
be262A.usc†Родносимвольны9 Шко4=0x263A †Рсимво;☠:РтексBР2  UCS-2Р2Рпрямо<Рпредставлени8 (BEЭпорядо:)РAРметко9 BOM
UTF-8РфайлK
text.utf†РтексBР2 UTF-8РAРметко9 BOM Шкодированно9)
text2.utf†РтексBР2 UTF-8Рбе7Рметк8 BOM
textbad1.utf†РтексBР2 UTF-8РAРневерно9РпоследовательностьN ШначинаетсOРAРбайт0РпродолжениO)Рбе7Рметк8 BOM
textbad2.utf†РтексBР2 UTF-8РAРневерно9РпоследовательностьN ШотсутствуеBРбайBРпродолжениO)Рбе7Рметк8 BOM
empty.utf†Рпусто9РтексBР2 UTF-8РAРметко9 BOM
30.utf†Родносимвольны9 Шко4=0x30†Рсимво; 0)РтексBР2 UTF-8
42f.utf†Родносимвольны9 Шко4=0x042F†Рсимво;Р/)РтексBР2 UTF-8
263A.utf†Родносимвольны9 Шко4=0x263A†Рсимво;☠:)РтексBР2 UTF-8